<form class="flex flex-col flex-auto w-full" [formGroup]="formGroup" (ngSubmit)="enviarFormuario()" *ngIf="!cargando">

    <div class="flex flex-wrap w-full max-w-screen-xl mx-auto p-6 md:p-8" >
        <!-- Title and action buttons -->
        <div class="flex items-center justify-between w-full">
            <div>
                <div class="text-3xl font-semibold tracking-tight leading-8">{{ data.titulo }}</div>
                <div class="font-medium tracking-tight text-secondary">{{ data.subtitulo }}</div>
            </div>
            <div class="flex items-center ml-6">
                <button class="hidden sm:inline-flex" mat-stroked-button [routerLink]="data.urlRegresar">
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
                    <span class="ml-2">Regresar</span>
                </button>
                <button class="hidden sm:inline-flex" mat-stroked-button color="primary" type="submit">
                    <mat-icon svgIcon="heroicons_outline:arrow-circle-right"></mat-icon>
                    <span class="ml-2">Enviar formulario</span>
                </button>

                <!-- Actions menu (visible on xs) -->
                <div class="sm:hidden">
                    <button [matMenuTriggerFor]="actionsMenu" mat-icon-button>
                        <mat-icon [svgIcon]="'heroicons_outline:dots-vertical'"></mat-icon>
                    </button>
                    <mat-menu #actionsMenu="matMenu">
                        <button mat-menu-item>Regresar</button>
                    </mat-menu>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 w-full mt-8">
        
            <div
                class="sm:col-span-2 lg:col-span-3 dark flex flex-col flex-auto bg-card shadow overflow-hidden p-5">
                <div class="w-full" >
                    
                    <div class="grid grid-cols-2" *ngFor="let grupoFormulario of data.grupos;  index as i; ">
                        <!-- titulo y subtitulo -->
                        <div>
                            <div class="text-2xl">{{ grupoFormulario.titulo }}</div>
                            <div class="text-base">{{ grupoFormulario.descripcion }}</div>
                        </div>
                        <!-- Elementos input -->
                        <div>
                            <div *ngFor="let input of grupoFormulario.componentes">

                                <!-- <app-date-picker *ngIf="input.tipoInput === 1" [formularioComponentesHtmlInput]="input"></app-date-picker> -->
                                <div class="flex items-center" >
                                    <button mat-mini-fab color="primary" class="m-2" [matTooltip]="input.textoAyuda">
                                        <mat-icon svgIcon="heroicons_outline:question-mark-circle"></mat-icon>
                                    </button>
                                    <mat-form-field [ngClass]="" class="flex-auto w-full" >
                                      <mat-label>{{input.etiquetaInput}}</mat-label>
                                      <input matInput [placeholder]="input.placeholderInput" [formControlName]="input.nombrePropiedad">
                                      <mat-error *ngIf="getInvalid(input.nombrePropiedad)">{{getError(input.nombrePropiedad)}}</mat-error>
                                      <mat-icon *ngIf="input.iconoNombre !== 0" class="icon-size-5" matSuffix [svgIcon]="input.iconoNombre"></mat-icon>
                                    </mat-form-field>
                                  </div>
                            </div>
                        </div>
                        <!-- separador -->
                        <hr style="grid-column: 1/3;" *ngIf="i !== data.grupos.length - 1">
                    </div>
                    <!-- <div class="flex">
                        
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</form>